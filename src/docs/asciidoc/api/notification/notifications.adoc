[[Notifications]]
== 실시간 알림 수신 API(GET: /devdevdev/api/v1/notifications)

* 회원이 알림을 실시간으로 수신한다.
* 알림 처리 방식은 https://developer.mozilla.org/ko/docs/Web/API/Server-sent_events/Using_server-sent_events[Server-Sent Events]를 사용한다.
** 5분의 타임아웃, 30초 마다 heartbeat 를 전송한다.
* *기술블로그 알림 시나리오*
** SSE 구독 상태인 경우
1. SSE 구독
2. 읽지 않은 알림이 있는 경우
a. `"읽지 않은 알림이 %d개 있어요!"` 전송
b. 새로운 글 발행
c. `"%s에서 새로운 기슬블로그 %d개가 올라왔어요!"` 전송
3. 읽지 않은 알림이 없는 경우
a. 새로운 글 발행
b. `"%s에서 새로운 기슬블로그 %d개가 올라왔어요!"` 전송
** SSE 구독 상태가 아닌 경우
1. 새로운 글 발행
2. SSE 구독
a. `"읽지 않은 알림이 %d개 있어요!"` 전송

=== 정상 요청/응답

==== HTTP Request

include::{snippets}/notifications/http-request.adoc[]

==== HTTP Request Header Fields

include::{snippets}/notifications/request-headers.adoc[]

==== HTTP Response

include::{snippets}/notifications/http-response.adoc[]

==== HTTP Response Header Fields

include::{snippets}/notifications/response-headers.adoc[]

==== HTTP Response Body

include::{snippets}/notifications/response-body.adoc[]

|===
|Path |Type |Optional |Description |Format

|data
|Object
|
|알림
|

|message
|String
|
|알림 메시지
|

|createdAt
|String
|
|알림 발생 일시
|'yyyy-MM-dd'T'HH:mm:ss.SSSZ'
|===

=== 예외

==== HTTP Response

* `익명 회원은 사용할 수 없는 기능 입니다.`: 익명 회원인 경우
* `회원을 찾을 수 없습니다.`: 회원이 존재하지 않는 경우
* `유효하지 않은 회원 입니다.`: 회원이 유효하지 않은 경우

include::{snippets}/not-found-member-exception/response-body.adoc[]